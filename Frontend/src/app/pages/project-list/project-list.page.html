<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <app-user-button slot="end"></app-user-button>
    <ion-title>Integrated projects</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <mat-tab-group>
    <mat-tab label="Web">
      <!-- <ion-card class="wrapper" [hidden]="spinner" mode="ios">
        <ion-card id="new-project-card">
          <ion-button class="add-button" (click)="createModal()">
            <img src="../../../assets/icon/add-project.svg">
          </ion-button>
        </ion-card>
        <ng-container *ngFor="let projects of dataFirebase">
          <ion-card class="projects-card" *ngIf="projects.type == 'web'" mode="ios">
            <img class="jira-logo" src="{{ projects.url }}">
            <ion-text class="text-size">
              <h2 class="project-name">{{ projects.name }}<br><span class="jira-key">{{ projects.jiraKey }}</span></h2>
            </ion-text>
            <ion-row text-center class="row">
              <ion-button class="view-button" (click)="presentModal(projects, 'View')"> View </ion-button>
              <ion-button class="edit-button" (click)="presentModal(projects, 'Edit')"> Edit </ion-button>
            </ion-row>
          </ion-card>
        </ng-container>
      </ion-card> -->
      <ion-card class="list-card" [hidden]="spinner" mode="ios">
        <ion-list>
          <ion-list-header>
            <ion-grid>
              <ion-row>
                <ion-col size="11">
                  <h1>Projects</h1>
                </ion-col>
                <ion-col size="1">
                  <ion-icon class="add-button" name="ios-add" (click)="createModal()"></ion-icon>
                </ion-col>
              </ion-row>
            </ion-grid>
          </ion-list-header>
          <ion-searchbar (ionInput)="filterList($event)"></ion-searchbar>
          <ion-grid>
            <!-- Header -->
            <ion-row>
              <ion-item style="width: 100%;">
                <ion-col size="3">
                  <ion-item lines="none" class="list-header">
                    Project name
                  </ion-item>
                </ion-col>
                <ion-col size="2">
                  <ion-item lines="none" class="list-header">
                    Jira key
                  </ion-item>
                </ion-col>
                <ion-col>
                  <ion-item lines="none" class="list-header">
                    Description
                  </ion-item>
                </ion-col>
              </ion-item>
            </ion-row>

            <ion-row *ngFor="let projects of filteredProjects">
              <ion-item style="width: 100%;" *ngIf="projects.type == 'web'">
                <ion-col size="2">
                  <ion-item text-center lines="none" class="list-item">
                    {{ projects.name }}
                  </ion-item>
                </ion-col>
                <ion-col size="1">
                  <ion-item lines="none">
                    <img class="jira-image" src="{{ projects.url }}">
                  </ion-item>
                </ion-col>
                <ion-col size="2">
                  <ion-item lines="none" class="list-item">
                    {{ projects.jiraKey }}
                  </ion-item>
                </ion-col>
                <ion-col size="6">
                  <ion-item lines="none" class="list-item">
                    {{ projects.description }}
                  </ion-item>
                </ion-col>
                <ion-col>
                  <ion-item lines="none">
                    <ion-button color="secondary" (click)="presentModal(projects, 'View')">
                      <ion-icon name="information" md="md-information"></ion-icon>
                      Info
                    </ion-button>
                  </ion-item>
                </ion-col>
              </ion-item>
            </ion-row>
          </ion-grid>
        </ion-list>
      </ion-card>
    </mat-tab>
    <mat-tab label="Mobil">
      <!-- <ion-card class="wrapper" [hidden]="spinner" mode="ios">
        <ion-card id="new-project-card" mode="ios">
          <ion-button class="add-button" (click)="createModal()">
            <img src="../../../assets/icon/add-project.svg">
          </ion-button>
        </ion-card>
        <ng-container *ngFor="let projects of dataFirebase">
          <ion-card class="projects-card" *ngIf="projects.type == 'mobil'" mode="ios">
            <img class="jira-logo" src="{{projects.url}}">
            <ion-text class="text-size">
              <h2 class="project-name">{{ projects.name }}<br><span class="jira-key">{{ projects.jiraKey }}</span></h2>
            </ion-text>
            <ion-row text-center class="row">
              <ion-button class="view-button" (click)="presentModal(projects, 'View')"> View </ion-button>
              <ion-button class="edit-button" (click)="presentModal(projects, 'Edit')"> Edit </ion-button>
            </ion-row>
          </ion-card>
        </ng-container>
      </ion-card> -->
      <ion-card class="list-card" [hidden]="spinner" mode="ios">
        <ion-list>
          <ion-list-header>
            <ion-grid>
              <ion-row>
                <ion-col size="11">
                  <h1>Projects</h1>
                </ion-col>
                <ion-col size="1">
                  <ion-icon class="add-button" name="ios-add" (click)="createModal()"></ion-icon>
                </ion-col>
              </ion-row>
            </ion-grid>
          </ion-list-header>
          <ion-searchbar (ionInput)="filterList($event)"></ion-searchbar>
          <ion-grid>
            <!-- Header -->
            <ion-row>
              <ion-item style="width: 100%;">
                <ion-col size="3">
                  <ion-item lines="none" class="list-header">
                    Project name
                  </ion-item>
                </ion-col>
                <ion-col size="2">
                  <ion-item lines="none" class="list-header">
                    Jira key
                  </ion-item>
                </ion-col>
                <ion-col>
                  <ion-item lines="none" class="list-header">
                    Description
                  </ion-item>
                </ion-col>
              </ion-item>
            </ion-row>

            <ion-row *ngFor="let projects of filteredProjects">
              <ion-item style="width: 100%;" *ngIf="projects.type == 'mobil'">
                <ion-col size="2">
                  <ion-item text-center lines="none" class="list-item">
                    {{ projects.name }}
                  </ion-item>
                </ion-col>
                <ion-col size="1">
                  <ion-item lines="none">
                    <img class="jira-image" src="{{ projects.url }}">
                  </ion-item>
                </ion-col>
                <ion-col size="2">
                  <ion-item lines="none" class="list-item">
                    {{ projects.jiraKey }}
                  </ion-item>
                </ion-col>
                <ion-col size="6">
                  <ion-item lines="none" class="list-item">
                    {{ projects.description }}
                  </ion-item>
                </ion-col>
                <ion-col>
                  <ion-item lines="none">
                    <ion-button color="secondary" (click)="presentModal(projects, 'View')">
                      <ion-icon name="information" md="md-information"></ion-icon>
                      Info
                    </ion-button>
                  </ion-item>
                </ion-col>
              </ion-item>
            </ion-row>
          </ion-grid>
        </ion-list>
      </ion-card>
    </mat-tab>
  </mat-tab-group>


</ion-content>

<div class="spinner" [hidden]="!spinner">
  <mat-spinner class="mat-spinner-color"></mat-spinner>
</div>